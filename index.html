<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Billy Schwenzer | Games Site</title>
  <link rel="shortcut icon" href="Assets/Images/Logo.JPG">
  <link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet'>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=New+Amsterdam&family=Urbanist:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<!--  Google tag (gtag.js) -->
<!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-JQECDC7RGJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-JQECDC7RGJ');
</script> -->

<body>

  <!-- NAVBAR -->
  <nav>
    <div class="nav-container">
      <div class="logo">
        <a onclick="scrollToSection('landing-scroll-anchor')"></a>
      </div>        
        <div class="nav-links mobile-hidden">
                    <!-- DROPDOWN MENU -->
            <div class="dropdown">          
              <a class="dropbtn">platformâ–¾</a>
              <div class="dropdown-content">
                <a onclick="scrollToSection('gb')">gameboy</a>
                <a onclick="scrollToSection('gc')">gamecube</a>
                <a onclick="scrollToSection('ds')">ds</a>
                <a onclick="scrollToSection('ps1')">ps1</a>                             
                <a onclick="scrollToSection('ps2')">ps2</a>
              </div>
            </div>
          </div>      
          <label class="nav-links-dropdown-button mobile-show">
            <input type="checkbox">
          </label>
          <aside class="sidebar mobile-hidden mobile-show">
            <div><a onclick="scrollToSection('gb')">gameboy</a></div>
            <div><a onclick="scrollToSection('gc')">gamecube</a></div>  
            <div><a onclick="scrollToSection('ds')">ds</a></div>           
            <div><a onclick="scrollToSection('ps1')">ps1</a> </div>    
            <div><a onclick="scrollToSection('ps2')">ps2</a></div>                     
          </aside>
    </div>
  </nav>
  <div class = "wrapper">
    <!-- LANDING SECTION -->
     <div class ="scroll-anchor" id="landing-scroll-anchor"></div>
    <section id="landing">         
          <div class="landing-header">
            <h1>SCHWENZ GAMES</h1>
            <p>One place for all the games I like</p>
          </div>
          <div class="external-links-nav">
            
          </div>
    </section>

    <!-- GAMEBOY SECTION -->
    <section class="section-center "id="gb">
      <div class = "content-holder full-width-content">
        <h2>GAMEBOY</h2>
        <div class="gameboy game-list"></div>
      </div>
    </section>

        <!-- DS SECTION -->
    <section class="section-center "id="ds">
      <div class = "content-holder full-width-content">
        <h2>DS</h2>
        <div class="gameboy game-list"></div>
      </div>
    </section>

        <!-- GAMECUBE SECTION -->
    <section class="section-center "id="gc">
      <div class = "content-holder full-width-content">
        <h2>GAMECUBE</h2>
        <div class="gameboy game-list"></div>
      </div>
    </section>

        <!-- PS1 SECTION -->
    <section class="section-center "id="ps1">
      <div class = "content-holder full-width-content">
        <h2>PS1</h2>
        <div class="gameboy game-list"></div>
      </div>
    </section>

        <!-- PS2 SECTION -->
    <section class="section-center "id="ps2">
      <div class = "content-holder full-width-content">
        <h2>PS2</h2>
        <div class="gameboy game-list"></div>
      </div>
    </section>

  </div>

  <script>
    function scrollToSection(id) {
      document.getElementById(id).scrollIntoView({ behavior: 'smooth', inline: 'nearest' });
    }

    window.onload = function() {
      // Reset the form fields when the page loads
      document.getElementById("form").reset();
      const form = document.getElementById('form');
      const result = document.getElementById('submit-result');
      
      //on submit, POST to web3Forms and get response
      form.addEventListener('submit', function(e) {
        e.preventDefault();

        const formData = new FormData(form);
        //If subject is empty, change to 
        const subject = formData.get('subject');
        const name = formData.get('name');
        if(subject.toString().length === 0) {
          subject = "New Email from ${name} via my site"
        }
        formData.append('subject', subject);

        const object = Object.fromEntries(formData);
        const json = JSON.stringify(object);
        result.innerHTML = "Please wait..."
        //fetch result
        fetch('https://api.web3forms.com/submit', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: json
            })
            .then(async (response) => {//show response
                let json = await response.json();
                console.log(json);
                if (response.status == 200) {
                    result.innerHTML = json.message;
                    result.classList.add("submit-success");
                } else {
                    console.log(response);
                    result.innerHTML = json.message;
                    result.classList.add("submit-warning");
      
                }
            })
            .catch(error => {//show error
                console.log(error);
                result.innerHTML = "Something went wrong!";
                result.classList.add("submit-error");
      
            })
            .then(function() {//reset form
                form.reset();
                //make response dissapear after 3 seconds if you wish
                setTimeout(() => {
                  result.classList.remove("submit-warning" ,"submit-success", "submit-error")
                }, 15000);
            });
      });

    }
  </script>
</body>
</html>